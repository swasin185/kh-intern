---
navigation:
  label: "Index"
  to: "/"
  title: "คู่มือการฝึกงาน"
---

| [**หน้าแรก**](/) | [**รับนักศึกษาฝึกงาน**](recruitment) | [**การติดตั้งซอฟแวร์**](installation) | [**โครงการคู่มือฝึกงาน**](kh-intern) | [**โครงการบันทึกเวลางาน**](attendance) | [**อภิธานศัพท์**](glossary) | [**เกี่ยวกับผู้จัดทำ**](about) |
| :--------------- | :----------------------------------- | :------------------------------------ | :----------------------------------- | :------------------------------------- | :-------------------------- | ------------------------------ |

# Project Attendance System

##### โครงการ ระบบบันทึกเวลาเข้า-ออกงาน

### 1.การสร้างติดตั้งซอฟต์แวร์

#### 1.1 MariaDB-Server

> ระบบจัดการฐานข้อมูล MariaDB เป็นโอเพนซอร์ส 100% Free และใช้งานได้เสมือนกับ MySQL

```bash
  # ติดตั้งMariaDB Server
  sudo apt install mariadb-server
  # ตรวจสอบสถานะ MariaDB Server
  sudo systemctl status mysql
```

- สร้าง User สิทธิการใช้งาน และฐานข้อมูล

```bash
  # เริ่มเข้าใช้งาน MariaDB ผ่าน terminal
  sudo mysql
  # สร้าง User และฐานข้อมูล และให้สิทธิ์การใช้งาน ของ user นี้
  ...
  CREATE USER 'username'@'%' IDENTIFIED BY 'password';
  CREATE DATABASE database_name;
  GRANT ALL PRIVILEGES ON database_name.* TO 'username'@'%';
  FLUSH PRIVILEGES;
  ...
```

- ตั้งค่าให้ MariaDB Server รองรับ client จากเครือข่ายโดยตรง

```bash
  sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf
  ...
    # bind-address = 127.0.0.1
  ...
```

#### 1.2 DBeaver

> โปรแกรมเข้าใช้งานดูแลระบบฐานข้อมูล ที่รองรับหลากหลายระบบ และมีเครื่องมือที่ใช้งานครบถ้วน

- [DBeaver Download](https://dbeaver.io/files/dbeaver-ce_latest_amd64.deb)

---

### 2. query sql command

- Select เลือกข้อมูลจาก table
- from เลือก table
- where เลือกข้อมูลที่ต้องการใน table
- group by เลือกข้อมูลที่จัดกลุ่ม เพื่อไม่ได้เกิดความนับซ้ำ ของข้อมูล
- order by เลือกข้อมูลที่ต้องการเรียงลำดับ
- Limit เลือกว่าต้องการข้อมูลกี่จำนวน
- Union ใช้รวมข้อมูลจาก table 2 table เข้าด้วยกัน ไม่นับข้อมูลซ้ำ
- Union All ใช้รวมข้อมูลจาก table 2 table เข้าด้วยกัน นับข้อมูลซ้ำ
- having ใช้คล้าย where เหมือน filter ข้อมูล
- if ใช้กำหนดเงื่อนไข
- Tmestampdiff ใช้คำนวนเวลาที่ต่างกัน
- group_concat ใช้รวมข้อมูลจาก >= 1 column เข้าด้วยกัน ไม่นับข้อมูลซ้ำ
- Substring index จะเอาข้อมูลกี่ส่วน และนับจากด้านไหน 1 คือ นับจากด้านหน้า ,-1 คือ นับจากด้านหลัง, 2 คือ นับจากด้านหน้า 2 ส่วน
- case when ใช้กำหนดเงื่อนไข คล้ายๆกับ if ถ้าเงื่อนไขตรงให้แสดงตามเงื่อนไข เช่น ถ้าคะแนน 80 ขึ้นไปให้แสดง A หรือ ถ้าคะแนน 60 ขึ้นไปให้แสดง B

#### Glossary SQL

- String คำ Text
- Concat การ Merge table 2 table เข้าด้วยกัน

---

## 3. Attendance & Timecard Rules

### กติกาพื้นฐาน

- เวลาทำงานปกติ: **08:00 – 17:00**
- พักกลางวัน: **60 นาที**
- การสแกนระหว่างวัน → ใช้ดูพฤติกรรม **ไม่เพิ่มชั่วโมงงาน**
- OT หลัง 17:00

---

### Case 1 : ตรงเวลา สแกน 2 ครั้ง

**รูปแบบ**

- เข้า: ก่อนเวลา 08:00
- ออก: 17:00 ขึ้นไป
- สแกนรวม: 2 ครั้ง

**การนับ**

- เวลางานปกติ 08:00–17:00
- หักพัก 60 นาที
- ไม่สาย / ไม่มี OT

**สถานะ:** ปกติ

---

### Case 2 : เข้าตรงเวลา แต่สแกนหลายครั้ง (พักเที่ยง)

**รูปแบบ**

- เข้า ก่อนเวลา 08:00
- มีสแกนออก–เข้า ระหว่างวัน
- ออกหลัง 17:00
- สแกนรวม: 3–4 ครั้ง

**การนับ**

- เวลางาน = 08:00–17:00 − พัก 60 นาที
- สแกนระหว่างวันไม่กระทบชั่วโมงงาน

**สถานะ:** ปกติ

---

### Case 3 : สแกนเวลาเข้าก่อน 08:00 และหลังจาก 08:00 อีกครั้ง

**รูปแบบ**

- สแกนครั้งแรก: ก่อน 08:00
- สแกนครั้งที่ 2: หลัง 08:00
- ออกหลัง 17:00
- สแกนรวม: 3 ครั้ง

**การนับ**

- เวลาเริ่มงานจริง = สแกนแรกหลัง 08:00
- OT ก่อน 08:00 ไม่นับ
- ถ้าเริ่มหลัง 08:00 ถือว่าสาย

**สถานะ:** สาย

---

### Case 4 : กลับก่อนเวลาเลิกงาน

**รูปแบบ**

- เข้า ก่อนเวลา 08:00
- ออกก่อน 17:00

**การนับ**

- เวลางานน้อยกว่ามาตรฐาน
- หักพัก 60 นาที
- ไม่มี OT

**สถานะ:** ออกก่อนเวลา / ขาดชั่วโมง

---

### Case 5 : พนักงานรักษาความปลอดภัย (กะกลางคืน)

**รูปแบบ**

- ทำงานข้ามวัน (เช่น 19:00–07:00)

**การนับ**

- ไม่ใช้กติกาเวลาปกติ
- นับตามช่วงกะที่กำหนด
- ไม่หักพักกลางวันแบบพนักงานทั่วไป

**สถานะ:** Shift / Night

---

### Case 6 : OT หลัง 17:00

**รูปแบบ**

- เข้า 08:00–08:59
- ออกหลัง 17:00

**การนับ**

- OT หลัง = เวลาหลัง 17:00
- ไม่หักพัก

---

## สรุปภาพรวม

| Case | รายละเอียด                    | อ้างอิงเวลา      |
| ---- | ----------------------------- | ---------------- |
| 1    | ตรงเวลา สแกน 2 ครั้ง          | 08:00–17:00      |
| 2    | สแกนหลายครั้งในวันเดียว       | 08:00–17:00      |
| 3    | เข้าเช้าแต่เริ่มงานหลัง 08:00 | เวลาเข้า > 08:00 |
| 4    | กะกลางคืน                     | Shift            |
| 5    | กลับก่อน 17:00                | เวลาออก < 17:00  |
| 6    | OT                            | <08:00 / >17:00  |

---
